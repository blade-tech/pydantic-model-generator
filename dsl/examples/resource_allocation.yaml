outcome_name: "Client Brief: Resource Allocation Decisions"
context_summary: "Brief shows allocations by project given team capacity, budgets, and priorities."

required_evidence:
  - name: TeamCapacity
    description: "Capacity by period"
    must_have_slots:
      - team_id
      - period
      - capacity_hours

  - name: BudgetConstraint
    description: "Budget caps by project"
    must_have_slots:
      - project_id
      - currency
      - amount

  - name: ProjectPriority
    description: "Priority per project"
    must_have_slots:
      - project_id
      - priority_level

queries_we_must_answer:
  - "Allocations per project: capacity used vs remaining budget"
  - "Pending decisions blocking reallocation"
  - "Which allocations exceed team capacity in Q3?"

target_entities:
  - name: ClientBrief
    description: "The rendered brief artifact"
    must_have_slots:
      - title

  - name: Allocation
    description: "Hours from team to project per period"
    must_have_slots:
      - team_id
      - project_id
      - period
      - hours

  - name: BusinessDecision
    description: "Pending decision affecting allocations"
    must_have_slots:
      - title
      - status

relations:
  - name: AllocatesTo
    subject: Allocation
    object: ProjectPriority
    description: "Links allocation to project priority"

  - name: BasedOn
    subject: Allocation
    object: TeamCapacity
    description: "Allocation based on team capacity"

  - name: ConstrainedBy
    subject: Allocation
    object: BudgetConstraint
    description: "Allocation constrained by budget"

  - name: RequiresDecision
    subject: Allocation
    object: BusinessDecision
    description: "Allocation depends on pending decision"

  - name: AboutBrief
    subject: ClientBrief
    object: ProjectPriority
    description: "Brief is about project priorities"

ontologies:
  - prefix: dcterms
    base_uri: "http://purl.org/dc/terms/"
    include_classes: []

  - prefix: prov
    base_uri: "http://www.w3.org/ns/prov#"
    include_classes:
      - Agent

graphiti_constraints:
  use_entity_type_metadata: true
  edge_names_pascal_case: true
  stamp_uri_on_edges: true
