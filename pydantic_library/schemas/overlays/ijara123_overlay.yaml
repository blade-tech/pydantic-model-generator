id: https://example.org/schemas/ijara-shariah-compliance-audit
name: ijara_shariah_compliance_audit
description: Schema for auditing Ijara (Islamic lease) transactions to ensure compliance with Shariah principles, including asset ownership, lease structure, and prohibited elements
imports:
  - ../core/provenance
prefixes:
  linkml: https://w3id.org/linkml/
  doco: http://purl.org/spar/doco/
  fabio: http://purl.org/spar/fabio/
  prov: http://www.w3.org/ns/prov#
  fibo: https://spec.edmcouncil.org/fibo/ontology/
  skos: http://www.w3.org/2004/02/skos/core#
  fibo-fnd: https://spec.edmcouncil.org/fibo/ontology/FND/Law/Regulation/
  fibo-fbc: https://spec.edmcouncil.org/fibo/ontology/FBC/ProductsAndServices/FinancialProductsAndServices/
default_prefix: ijara_shariah_compliance_audit

classes:
  IjaraTransaction:
    description: Islamic lease transaction where lessor retains ownership of asset while lessee has right to use
    class_uri: fibo-fbc:FinancialInstrument
    mixins:
      - ProvenanceFields
    slots:
      - id
      - transaction_id
      - lessor
      - lessee
      - asset_description
      - asset_ownership_status
      - lease_amount
      - lease_term
      - lease_start_date
      - lease_end_date
      - rental_payment_frequency
      - purchase_option
      - transaction_date
      - transaction_status

  Audit:
    description: Systematic examination of Ijara transaction for Shariah compliance
    class_uri: prov:Activity
    mixins:
      - ProvenanceFields
    slots:
      - id
      - audit_id
      - auditor_name
      - auditor_certification
      - audit_type
      - audit_scope
      - audit_date
      - audit_start_date
      - audit_completion_date
      - audit_methodology
      - audit_status

  ComplianceAssessment:
    description: Evaluation of transaction against specific Shariah compliance rules
    class_uri: prov:Activity
    mixins:
      - ProvenanceFields
    slots:
      - id
      - assessment_id
      - rule_id
      - transaction_id
      - is_compliant
      - compliance_status
      - assessment_date
      - assessor_name
      - violation_details
      - severity_level
      - remediation_required
      - remediation_steps

  AuditReport:
    description: Formal document presenting audit findings and recommendations
    class_uri: fabio:Report
    mixins:
      - ProvenanceFields
    slots:
      - id
      - report_id
      - audit_id
      - report_title
      - issued_date
      - report_period_start
      - report_period_end
      - executive_summary
      - findings_summary
      - overall_compliance_rating
      - recommendations
      - auditor_signature
      - approval_status

  ComplianceRule:
    description: Specific Shariah principle or requirement that must be satisfied
    class_uri: fibo-fnd:Regulation
    mixins:
      - ProvenanceFields
    slots:
      - id
      - rule_id
      - rule_name
      - rule_description
      - category
      - rule_source
      - rule_reference
      - applicability_criteria
      - severity
      - is_mandatory
      - effective_date
      - version

  ShariahCompliance:
    description: Framework of Islamic principles governing financial transactions
    class_uri: skos:Concept
    mixins:
      - ProvenanceFields
    slots:
      - id
      - framework_id
      - framework_name
      - framework_description
      - version
      - issuing_authority
      - effective_date
      - last_updated
      - geographical_scope
      - school_of_thought

  AuditTrail:
    description: Chronological record of all activities and changes related to transaction audit
    class_uri: prov:Entity
    mixins:
      - ProvenanceFields
    slots:
      - id
      - trail_id
      - transaction_id
      - event_type
      - event_description
      - event_timestamp
      - performed_by
      - previous_value
      - new_value
      - ip_address
      - system_reference

slots:
  id:
    description: Unique identifier
    range: string
    identifier: true
    required: true

  transaction_id:
    description: Unique identifier for the Ijara transaction
    range: string
    required: true

  lessor:
    description: Party who owns the asset and leases it
    range: string
    required: true

  lessee:
    description: Party who leases the asset
    range: string
    required: true

  asset_description:
    description: Detailed description of the leased asset
    range: string
    required: true

  asset_ownership_status:
    description: Confirmation of lessor's ownership of the asset
    range: OwnershipStatusEnum
    required: true

  lease_amount:
    description: Total value of the lease agreement
    range: float
    required: true

  lease_term:
    description: Duration of the lease in months
    range: integer
    required: true

  lease_start_date:
    description: Date when lease period begins
    range: date
    required: true

  lease_end_date:
    description: Date when lease period ends
    range: date
    required: true

  rental_payment_frequency:
    description: Frequency of rental payments
    range: PaymentFrequencyEnum
    required: true

  purchase_option:
    description: Whether lessee has option to purchase asset at end of lease
    range: boolean
    required: false

  transaction_date:
    description: Date when transaction was executed
    range: date
    required: true

  transaction_status:
    description: Current status of the transaction
    range: TransactionStatusEnum
    required: true

  audit_id:
    description: Unique identifier for the audit
    range: string
    required: true

  auditor_name:
    description: Name of the person or entity conducting the audit
    range: string
    required: true

  auditor_certification:
    description: Professional certification of the auditor
    range: string
    required: false

  audit_type:
    description: Type of audit being conducted
    range: AuditTypeEnum
    required: true

  audit_scope:
    description: Scope and boundaries of the audit
    range: string
    required: true

  audit_date:
    description: Primary date of the audit
    range: date
    required: true

  audit_start_date:
    description: Date when audit commenced
    range: date
    required: true

  audit_completion_date:
    description: Date when audit was completed
    range: date
    required: false

  audit_methodology:
    description: Methodology and approach used for the audit
    range: string
    required: false

  audit_status:
    description: Current status of the audit
    range: AuditStatusEnum
    required: true

  assessment_id:
    description: Unique identifier for the compliance assessment
    range: string
    required: true

  rule_id:
    description: Identifier of the compliance rule being evaluated
    range: string
    required: true

  is_compliant:
    description: Boolean indicating if rule was satisfied
    range: boolean
    required: true

  compliance_status:
    description: Overall compliance status
    range: ComplianceStatusEnum
    required: true

  assessment_date:
    description: Date when assessment was performed
    range: date
    required: true

  assessor_name:
    description: Name of person who performed the assessment
    range: string
    required: true

  violation_details:
    description: Details of any violations found
    range: string
    required: false

  severity_level:
    description: Severity of any non-compliance found
    range: SeverityLevelEnum
    required: false

  remediation_required:
    description: Whether remediation action is required
    range: boolean
    required: false

  remediation_steps:
    description: Steps required to remediate non-compliance
    range: string
    required: false

  report_id:
    description: Unique identifier for the audit report
    range: string
    required: true

  report_title:
    description: Title of the audit report
    range: string
    required: true

  issued_date:
    description: Date when report was issued
    range: date
    required: true

  report_period_start:
    description: Start date of period covered by report
    range: date
    required: true

  report_period_end:
    description: End date of period covered by report
    range: date
    required: true

  executive_summary:
    description: High-level summary of audit findings
    range: string
    required: false

  findings_summary:
    description: Summary of detailed findings
    range: string
    required: true

  overall_compliance_rating:
    description: Overall rating of compliance
    range: ComplianceRatingEnum
    required: true

  recommendations:
    description: Recommendations for improvement
    range: string
    required: false

  auditor_signature:
    description: Digital or physical signature of auditor
    range: string
    required: false

  approval_status:
    description: Approval status of the report
    range: ApprovalStatusEnum
    required: true

  rule_name:
    description: Name of the compliance rule
    range: string
    required: true

  rule_description:
    description: Detailed description of the rule requirements
    range: string
    required: true

  category:
    description: Category of the compliance rule
    range: RuleCategoryEnum
    required: true

  rule_source:
    description: Source of the rule (Quran, Hadith, scholarly consensus, etc.)
    range: string
    required: true

  rule_reference:
    description: Specific reference citation for the rule
    range: string
    required: false

  applicability_criteria:
    description: Criteria determining when rule applies
    range: string
    required: false

  severity:
    description: Severity level of rule violation
    range: SeverityLevelEnum
    required: true

  is_mandatory:
    description: Whether rule is mandatory or recommended
    range: boolean
    required: true

  effective_date:
    description: Date when rule becomes effective
    range: date
    required: true

  version:
    description: Version number of the rule or framework
    range: string
    required: false

  framework_id:
    description: Unique identifier for the Shariah compliance framework
    range: string
    required: true

  framework_name:
    description: Name of the compliance framework
    range: string
    required: true

  framework_description:
    description: Description of the framework and its purpose
    range: string
    required: true

  issuing_authority:
    description: Authority that issued the framework
    range: string
    required: true

  last_updated:
    description: Date when framework was last updated
    range: date
    required: false

  geographical_scope:
    description: Geographical area where framework applies
    range: string
    required: false

  school_of_thought:
    description: Islamic school of jurisprudence (madhab) followed
    range: SchoolOfThoughtEnum
    required: false

  trail_id:
    description: Unique identifier for the audit trail entry
    range: string
    required: true

  event_type:
    description: Type of event being recorded
    range: EventTypeEnum
    required: true

  event_description:
    description: Description of the event
    range: string
    required: true

  event_timestamp:
    description: Timestamp when event occurred
    range: datetime
    required: true

  performed_by:
    description: User or system that performed the action
    range: string
    required: true

  previous_value:
    description: Value before the change
    range: string
    required: false

  new_value:
    description: Value after the change
    range: string
    required: false

  ip_address:
    description: IP address from which action was performed
    range: string
    required: false

  system_reference:
    description: Reference to system or application
    range: string
    required: false

enums:
  OwnershipStatusEnum:
    description: Status of asset ownership
    permissible_values:
      VERIFIED:
        description: Ownership has been verified
      PENDING_VERIFICATION:
        description: Ownership verification in progress
      DISPUTED:
        description: Ownership is disputed
      UNVERIFIED:
        description: Ownership has not been verified

  PaymentFrequencyEnum:
    description: Frequency of rental payments
    permissible_values:
      MONTHLY:
        description: Payments made monthly
      QUARTERLY:
        description: Payments made quarterly
      SEMI_ANNUALLY:
        description: Payments made twice per year
      ANNUALLY:
        description: Payments made annually
      CUSTOM:
        description: Custom payment schedule

  TransactionStatusEnum:
    description: Status of transaction
    permissible_values:
      DRAFT:
        description: Transaction in draft state
      PENDING_APPROVAL:
        description: Awaiting approval
      ACTIVE:
        description: Transaction is active
      COMPLETED:
        description: Transaction completed
      CANCELLED:
        description: Transaction cancelled
      SUSPENDED:
        description: Transaction suspended

  AuditTypeEnum:
    description: Type of audit
    permissible_values:
      INITIAL:
        description: Initial Shariah compliance audit
      PERIODIC:
        description: Regular periodic audit
      SPECIAL:
        description: Special purpose audit
      FOLLOW_UP:
        description: Follow-up audit after remediation
      COMPREHENSIVE:
        description: Comprehensive full-scope audit

  AuditStatusEnum:
    description: Status of audit
    permissible_values:
      PLANNED:
        description: Audit is planned
      IN_PROGRESS:
        description: Audit in progress
      UNDER_REVIEW:
        description: Audit findings under review
      COMPLETED:
        description: Audit completed
      CANCELLED:
        description: Audit cancelled

  ComplianceStatusEnum:
    description: Compliance status
    permissible_values:
      COMPLIANT:
        description: Fully compliant with Shariah principles
      NON_COMPLIANT:
        description: Not compliant with Shariah principles
      PARTIALLY_COMPLIANT:
        description: Partially compliant, some issues found
      UNDER_REVIEW:
        description: Compliance status under review
      NOT_ASSESSED:
        description: Not yet assessed

  SeverityLevelEnum:
    description: Severity level of non-compliance
    permissible_values:
      CRITICAL:
        description: Critical violation requiring immediate action
      HIGH:
        description: High severity requiring prompt action
      MEDIUM:
        description: Medium severity requiring attention
      LOW:
        description: Low severity, minor issue
      INFORMATIONAL:
        description: Informational only, no violation

  ComplianceRatingEnum:
    description: Overall compliance rating
    permissible_values:
      EXCELLENT:
        description: Excellent compliance, no issues
      GOOD:
        description: Good compliance, minor issues only
      SATISFACTORY:
        description: Satisfactory compliance, some issues
      NEEDS_IMPROVEMENT:
        description: Needs improvement, multiple issues
      UNSATISFACTORY:
        description: Unsatisfactory, major issues found

  ApprovalStatusEnum:
    description: Approval status
    permissible_values:
      DRAFT:
        description: Report in draft state
      PENDING_REVIEW:
        description: Pending review
      APPROVED:
        description: Report approved
      REJECTED:
        description: Report rejected
      REVISED:
        description: Report revised

  RuleCategoryEnum:
    description: Category of Shariah compliance rule
    permissible_values:
      ASSET_OWNERSHIP:
        description: Rules related to asset ownership
      LEASE_STRUCTURE:
        description: Rules related to lease structure
      PROHIBITED_ELEMENTS:
        description: Rules about prohibited elements (riba, gharar, etc.)
      RISK_SHARING:
        description: Rules about risk sharing
      DOCUMENTATION:
        description: Rules about documentation requirements
      PAYMENT_TERMS:
        description: Rules about payment terms
      TERMINATION:
        description: Rules about contract termination
      GENERAL:
        description: General compliance rules

  SchoolOfThoughtEnum:
    description: Islamic school of jurisprudence
    permissible_values:
      HANAFI:
        description: Hanafi school of thought
      MALIKI:
        description: Maliki school of thought
      SHAFI:
        description: Shafi school of thought
      HANBALI:
        description: Hanbali school of thought
      JAFARI:
        description: Jafari school of thought
      MULTIPLE:
        description: Multiple schools considered
      NOT_SPECIFIED:
        description: School not specified

  EventTypeEnum:
    description: Type of audit trail event
    permissible_values:
      TRANSACTION_CREATED:
        description: Transaction was created
      TRANSACTION_MODIFIED:
        description: Transaction was modified
      AUDIT_INITIATED:
        description: Audit was initiated
      ASSESSMENT_PERFORMED:
        description: Compliance assessment performed
      REPORT_GENERATED:
        description: Audit report generated
      APPROVAL_GRANTED:
        description: Approval was granted
      APPROVAL_REJECTED:
        description: Approval was rejected
      STATUS_CHANGED:
        description: Status was changed
      DOCUMENT_UPLOADED:
        description: Document was uploaded
      COMMENT_ADDED:
        description: Comment was added